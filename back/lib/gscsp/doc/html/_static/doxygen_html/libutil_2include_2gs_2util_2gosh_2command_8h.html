<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>ProductInterfaceApplication: lib/libutil/include/gs/util/gosh/command.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ProductInterfaceApplication
   &#160;<span id="projectnumber">2.7.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_d33dcd303d95ce5fe59e2f71a2621271.html">libutil</a></li><li class="navelem"><a class="el" href="dir_61da064695c3da01adeedb707fb3606a.html">include</a></li><li class="navelem"><a class="el" href="dir_62973ac180f0e2ca4a057023376cc3c9.html">gs</a></li><li class="navelem"><a class="el" href="dir_9a1bdad0e085a4bbb311cde986f47fce.html">util</a></li><li class="navelem"><a class="el" href="dir_78587c27e54d53ab2e0dfa8f0377645f.html">gosh</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">command.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Command framework. </p>
<p>Provides a simple way of organizing commands in a hierarchy. A command is a text string mapping to a function - supporting arguments. </p>
</div><div class="textblock"><code>#include &lt;<a class="el" href="stdio_8h_source.html">gs/util/stdio.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="pgm_8h_source.html">gs/util/pgm.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="check_8h_source.html">gs/util/check.h</a>&gt;</code><br />
</div>
<p><a href="libutil_2include_2gs_2util_2gosh_2command_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcommand__io__functions.html">command_io_functions</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Command output interface.  <a href="structcommand__io__functions.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcommand__context.html">command_context</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Command context for executing a command.  <a href="structcommand__context.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structgs__command__chain__t.html">gs_command_chain_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Chain element for chaning sub-commands.  <a href="structgs__command__chain__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcommand.html">command</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Command definition.  <a href="structcommand.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:aa0ab8f59fee45b8ab183418100ac0360"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa0ab8f59fee45b8ab183418100ac0360"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libutil_2include_2gs_2util_2gosh_2command_8h.html#aa0ab8f59fee45b8ab183418100ac0360">GS_COMMAND_MAX_LEN_COMMAND</a>&#160;&#160;&#160;20</td></tr>
<tr class="memdesc:aa0ab8f59fee45b8ab183418100ac0360"><td class="mdescLeft">&#160;</td><td class="mdescRight">Max langth of a command (including NUL termination). <br /></td></tr>
<tr class="separator:aa0ab8f59fee45b8ab183418100ac0360"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04af71c722fe55aa4060d3d25ea9b049"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a04af71c722fe55aa4060d3d25ea9b049"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libutil_2include_2gs_2util_2gosh_2command_8h.html#a04af71c722fe55aa4060d3d25ea9b049">GS_COMMAND_FLAG_HIDDEN</a>&#160;&#160;&#160;0x02</td></tr>
<tr class="memdesc:a04af71c722fe55aa4060d3d25ea9b049"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flag for hiding command in help and tab-complete. <br /></td></tr>
<tr class="separator:a04af71c722fe55aa4060d3d25ea9b049"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a48ac19f6ca5e16964ba449bedc47a3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libutil_2include_2gs_2util_2gosh_2command_8h.html#a3a48ac19f6ca5e16964ba449bedc47a3">GS_COMMAND_ROOT</a></td></tr>
<tr class="memdesc:a3a48ac19f6ca5e16964ba449bedc47a3"><td class="mdescLeft">&#160;</td><td class="mdescRight">'root' command attribute.  <a href="#a3a48ac19f6ca5e16964ba449bedc47a3">More...</a><br /></td></tr>
<tr class="separator:a3a48ac19f6ca5e16964ba449bedc47a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad23b12a7e245d0ddb03b8c4d16b34252"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libutil_2include_2gs_2util_2gosh_2command_8h.html#ad23b12a7e245d0ddb03b8c4d16b34252">GS_COMMAND_SUB</a>&#160;&#160;&#160;<a class="el" href="pgm_8h.html#a04b85f9b1e94aed93489d364d00c6644">GS_PGM_OBJECT</a></td></tr>
<tr class="memdesc:ad23b12a7e245d0ddb03b8c4d16b34252"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sub command attribute,.  <a href="#ad23b12a7e245d0ddb03b8c4d16b34252">More...</a><br /></td></tr>
<tr class="separator:ad23b12a7e245d0ddb03b8c4d16b34252"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17cc0ed417aca24c161badb24af5a9c8"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a17cc0ed417aca24c161badb24af5a9c8"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libutil_2include_2gs_2util_2gosh_2command_8h.html#a17cc0ed417aca24c161badb24af5a9c8">GS_COMMAND_INIT_CHAIN</a>(__list)&#160;&#160;&#160;{.list = __list, .count = <a class="el" href="libutil_2include_2gs_2util_2types_8h.html#a5f7faa614a491f67774e1fdf837e0221">GS_ARRAY_SIZE</a>(__list)}</td></tr>
<tr class="memdesc:a17cc0ed417aca24c161badb24af5a9c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Macro for initializing command chains. <br /></td></tr>
<tr class="separator:a17cc0ed417aca24c161badb24af5a9c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c59e804b38c2a1fad3d215eeb716854"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libutil_2include_2gs_2util_2gosh_2command_8h.html#a3c59e804b38c2a1fad3d215eeb716854">GS_COMMAND_REGISTER</a>(__cmd)&#160;&#160;&#160;<a class="el" href="libutil_2include_2gs_2util_2gosh_2command_8h.html#a94929a1c6c173b52ca98782f141802a8">gs_command_register</a>(__cmd, <a class="el" href="libutil_2include_2gs_2util_2types_8h.html#a5f7faa614a491f67774e1fdf837e0221">GS_ARRAY_SIZE</a>(__cmd))</td></tr>
<tr class="memdesc:a3c59e804b38c2a1fad3d215eeb716854"><td class="mdescLeft">&#160;</td><td class="mdescRight">Macro for registering commands.  <a href="#a3c59e804b38c2a1fad3d215eeb716854">More...</a><br /></td></tr>
<tr class="separator:a3c59e804b38c2a1fad3d215eeb716854"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a476cf00cb60b6e128a3fd4aa1cacb655"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a476cf00cb60b6e128a3fd4aa1cacb655"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libutil_2include_2gs_2util_2gosh_2command_8h.html#a476cf00cb60b6e128a3fd4aa1cacb655">GS_COMMAND_NO_ARGS</a>&#160;&#160;&#160;255</td></tr>
<tr class="memdesc:a476cf00cb60b6e128a3fd4aa1cacb655"><td class="mdescLeft">&#160;</td><td class="mdescRight">Signals no command arguments in command definition, see mandatory arguments. <br /></td></tr>
<tr class="separator:a476cf00cb60b6e128a3fd4aa1cacb655"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ad83427335650a49c9f1908e7fc16ac85"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structcommand.html">command</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libutil_2include_2gs_2util_2gosh_2command_8h.html#ad83427335650a49c9f1908e7fc16ac85">gs_command_t</a></td></tr>
<tr class="memdesc:ad83427335650a49c9f1908e7fc16ac85"><td class="mdescLeft">&#160;</td><td class="mdescRight">Command reference.  <a href="#ad83427335650a49c9f1908e7fc16ac85">More...</a><br /></td></tr>
<tr class="separator:ad83427335650a49c9f1908e7fc16ac85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70d1e0456fe5ae6bd7f12d277f88f14f"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structcommand__context.html">command_context</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libutil_2include_2gs_2util_2gosh_2command_8h.html#a70d1e0456fe5ae6bd7f12d277f88f14f">gs_command_context_t</a></td></tr>
<tr class="memdesc:a70d1e0456fe5ae6bd7f12d277f88f14f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Commands context reference.  <a href="#a70d1e0456fe5ae6bd7f12d277f88f14f">More...</a><br /></td></tr>
<tr class="separator:a70d1e0456fe5ae6bd7f12d277f88f14f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf30a2587b9766919068958dd7f6dd87"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="adf30a2587b9766919068958dd7f6dd87"></a>
typedef struct <a class="el" href="structcommand__io__functions.html">command_io_functions</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libutil_2include_2gs_2util_2gosh_2command_8h.html#adf30a2587b9766919068958dd7f6dd87">gs_command_io_functions_t</a></td></tr>
<tr class="memdesc:adf30a2587b9766919068958dd7f6dd87"><td class="mdescLeft">&#160;</td><td class="mdescRight">Command output interface. <br /></td></tr>
<tr class="separator:adf30a2587b9766919068958dd7f6dd87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3d7d9d1bd26c655cd26216c3626cb95"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="libutil_2include_2gs_2util_2error_8h.html#a91aea7d2bf231aa2a13f95a6c5305cbc">gs_error_t</a>(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libutil_2include_2gs_2util_2gosh_2command_8h.html#ab3d7d9d1bd26c655cd26216c3626cb95">gs_command_log_t</a>) (const char *cmd_line, <a class="el" href="libutil_2include_2gs_2util_2error_8h.html#a91aea7d2bf231aa2a13f95a6c5305cbc">gs_error_t</a> ret, <a class="el" href="libutil_2include_2gs_2util_2error_8h.html#a91aea7d2bf231aa2a13f95a6c5305cbc">gs_error_t</a> cmd_ret, <a class="el" href="structgs__timestamp__t.html">gs_timestamp_t</a> start, <a class="el" href="structgs__timestamp__t.html">gs_timestamp_t</a> end, void *ctx)</td></tr>
<tr class="memdesc:ab3d7d9d1bd26c655cd26216c3626cb95"><td class="mdescLeft">&#160;</td><td class="mdescRight">Command logging call-back.  <a href="#ab3d7d9d1bd26c655cd26216c3626cb95">More...</a><br /></td></tr>
<tr class="separator:ab3d7d9d1bd26c655cd26216c3626cb95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63b1479bb4f5a6c2bb8ed926f7793f42"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a63b1479bb4f5a6c2bb8ed926f7793f42"></a>
typedef int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libutil_2include_2gs_2util_2gosh_2command_8h.html#a63b1479bb4f5a6c2bb8ed926f7793f42">gs_command_handler_t</a>) (<a class="el" href="libutil_2include_2gs_2util_2gosh_2command_8h.html#a70d1e0456fe5ae6bd7f12d277f88f14f">gs_command_context_t</a> *ctx)</td></tr>
<tr class="memdesc:a63b1479bb4f5a6c2bb8ed926f7793f42"><td class="mdescLeft">&#160;</td><td class="mdescRight">Command handler. <br /></td></tr>
<tr class="separator:a63b1479bb4f5a6c2bb8ed926f7793f42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:addbb99a3e0147bc3aac77dcf143970ff"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="libutil_2include_2gs_2util_2error_8h.html#a91aea7d2bf231aa2a13f95a6c5305cbc">gs_error_t</a>(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libutil_2include_2gs_2util_2gosh_2command_8h.html#addbb99a3e0147bc3aac77dcf143970ff">gs_command_completer_t</a>) (<a class="el" href="libutil_2include_2gs_2util_2gosh_2command_8h.html#a70d1e0456fe5ae6bd7f12d277f88f14f">gs_command_context_t</a> *ctx, int arg_to_complete)</td></tr>
<tr class="memdesc:addbb99a3e0147bc3aac77dcf143970ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Completer call-back (tab complete).  <a href="#addbb99a3e0147bc3aac77dcf143970ff">More...</a><br /></td></tr>
<tr class="separator:addbb99a3e0147bc3aac77dcf143970ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a616b319dc6de3f2e078a2a0a229ebefb"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libutil_2include_2gs_2util_2gosh_2command_8h.html#a616b319dc6de3f2e078a2a0a229ebefb">gs_command_completer_add_token</a> (<a class="el" href="libutil_2include_2gs_2util_2gosh_2command_8h.html#a70d1e0456fe5ae6bd7f12d277f88f14f">gs_command_context_t</a> *ctx, const char *token, bool exact)</td></tr>
<tr class="memdesc:a616b319dc6de3f2e078a2a0a229ebefb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add token - helper to 'tab complete' argument(s).  <a href="#a616b319dc6de3f2e078a2a0a229ebefb">More...</a><br /></td></tr>
<tr class="separator:a616b319dc6de3f2e078a2a0a229ebefb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e5c6004cf495f4a04ef4b0337420c74"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libutil_2include_2gs_2util_2gosh_2command_8h.html#a8e5c6004cf495f4a04ef4b0337420c74">gs_command_args</a> (<a class="el" href="libutil_2include_2gs_2util_2gosh_2command_8h.html#a70d1e0456fe5ae6bd7f12d277f88f14f">gs_command_context_t</a> *ctx)</td></tr>
<tr class="memdesc:a8e5c6004cf495f4a04ef4b0337420c74"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the arguments as a string, where arguments are separated by spaces.  <a href="#a8e5c6004cf495f4a04ef4b0337420c74">More...</a><br /></td></tr>
<tr class="separator:a8e5c6004cf495f4a04ef4b0337420c74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeef56f61b7bdfc2b396c3e07c2fdebcb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="libutil_2include_2gs_2util_2error_8h.html#a91aea7d2bf231aa2a13f95a6c5305cbc">gs_error_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libutil_2include_2gs_2util_2gosh_2command_8h.html#aeef56f61b7bdfc2b396c3e07c2fdebcb">gs_command_run</a> (const char *<a class="el" href="structcommand.html">command</a>, <a class="el" href="libutil_2include_2gs_2util_2error_8h.html#a91aea7d2bf231aa2a13f95a6c5305cbc">gs_error_t</a> *command_result)</td></tr>
<tr class="memdesc:aeef56f61b7bdfc2b396c3e07c2fdebcb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Execute command.  <a href="#aeef56f61b7bdfc2b396c3e07c2fdebcb">More...</a><br /></td></tr>
<tr class="separator:aeef56f61b7bdfc2b396c3e07c2fdebcb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ce86d164e06ac45630b72bba839ade0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="libutil_2include_2gs_2util_2error_8h.html#a91aea7d2bf231aa2a13f95a6c5305cbc">gs_error_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libutil_2include_2gs_2util_2gosh_2command_8h.html#a0ce86d164e06ac45630b72bba839ade0">gs_command_execute</a> (const char *<a class="el" href="structcommand.html">command</a>, <a class="el" href="libutil_2include_2gs_2util_2error_8h.html#a91aea7d2bf231aa2a13f95a6c5305cbc">gs_error_t</a> *command_result, FILE *out, const <a class="el" href="libutil_2include_2gs_2util_2gosh_2command_8h.html#adf30a2587b9766919068958dd7f6dd87">gs_command_io_functions_t</a> *iof, void *iof_ctx)</td></tr>
<tr class="memdesc:a0ce86d164e06ac45630b72bba839ade0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Execute command.  <a href="#a0ce86d164e06ac45630b72bba839ade0">More...</a><br /></td></tr>
<tr class="separator:a0ce86d164e06ac45630b72bba839ade0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa75b330f0722b139092cbccf46362b11"><td class="memItemLeft" align="right" valign="top"><a class="el" href="libutil_2include_2gs_2util_2error_8h.html#a91aea7d2bf231aa2a13f95a6c5305cbc">gs_error_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libutil_2include_2gs_2util_2gosh_2command_8h.html#aa75b330f0722b139092cbccf46362b11">gs_command_execute_stdio</a> (const char *<a class="el" href="structcommand.html">command</a>, <a class="el" href="libutil_2include_2gs_2util_2error_8h.html#a91aea7d2bf231aa2a13f95a6c5305cbc">gs_error_t</a> *command_result)</td></tr>
<tr class="memdesc:aa75b330f0722b139092cbccf46362b11"><td class="mdescLeft">&#160;</td><td class="mdescRight">Execute command.  <a href="#aa75b330f0722b139092cbccf46362b11">More...</a><br /></td></tr>
<tr class="separator:aa75b330f0722b139092cbccf46362b11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98a8c9a2dbd48f934e4f610b9eda8875"><td class="memItemLeft" align="right" valign="top"><a class="el" href="libutil_2include_2gs_2util_2error_8h.html#a91aea7d2bf231aa2a13f95a6c5305cbc">gs_error_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libutil_2include_2gs_2util_2gosh_2command_8h.html#a98a8c9a2dbd48f934e4f610b9eda8875">gs_command_set_output</a> (<a class="el" href="libutil_2include_2gs_2util_2gosh_2command_8h.html#a70d1e0456fe5ae6bd7f12d277f88f14f">gs_command_context_t</a> *ctx, const char *group, const char *key, const char *value)</td></tr>
<tr class="memdesc:a98a8c9a2dbd48f934e4f610b9eda8875"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set output.  <a href="#a98a8c9a2dbd48f934e4f610b9eda8875">More...</a><br /></td></tr>
<tr class="separator:a98a8c9a2dbd48f934e4f610b9eda8875"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d48f13c08348baba544d63639b401bc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="libutil_2include_2gs_2util_2error_8h.html#a91aea7d2bf231aa2a13f95a6c5305cbc">gs_error_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libutil_2include_2gs_2util_2gosh_2command_8h.html#a3d48f13c08348baba544d63639b401bc">gs_command_set_output_printf</a> (<a class="el" href="libutil_2include_2gs_2util_2gosh_2command_8h.html#a70d1e0456fe5ae6bd7f12d277f88f14f">gs_command_context_t</a> *ctx, const char *group, const char *key, const char *format,...)</td></tr>
<tr class="memdesc:a3d48f13c08348baba544d63639b401bc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set output.  <a href="#a3d48f13c08348baba544d63639b401bc">More...</a><br /></td></tr>
<tr class="separator:a3d48f13c08348baba544d63639b401bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9828d47e4ac6b66f45c7d5c350eee7df"><td class="memItemLeft" align="right" valign="top"><a class="el" href="libutil_2include_2gs_2util_2error_8h.html#a91aea7d2bf231aa2a13f95a6c5305cbc">gs_error_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libutil_2include_2gs_2util_2gosh_2command_8h.html#a9828d47e4ac6b66f45c7d5c350eee7df">gs_command_flush_output</a> (<a class="el" href="libutil_2include_2gs_2util_2gosh_2command_8h.html#a70d1e0456fe5ae6bd7f12d277f88f14f">gs_command_context_t</a> *ctx)</td></tr>
<tr class="memdesc:a9828d47e4ac6b66f45c7d5c350eee7df"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flush output/Results.  <a href="#a9828d47e4ac6b66f45c7d5c350eee7df">More...</a><br /></td></tr>
<tr class="separator:a9828d47e4ac6b66f45c7d5c350eee7df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec5506dadcf6ebd763ec17d2d1b6aedf"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libutil_2include_2gs_2util_2gosh_2command_8h.html#aec5506dadcf6ebd763ec17d2d1b6aedf">gs_command_wait_any_key</a> (<a class="el" href="libutil_2include_2gs_2util_2gosh_2command_8h.html#a70d1e0456fe5ae6bd7f12d277f88f14f">gs_command_context_t</a> *ctx, int timeout_ms)</td></tr>
<tr class="memdesc:aec5506dadcf6ebd763ec17d2d1b6aedf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wait for any key input.  <a href="#aec5506dadcf6ebd763ec17d2d1b6aedf">More...</a><br /></td></tr>
<tr class="separator:aec5506dadcf6ebd763ec17d2d1b6aedf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca9c75f6046b8656b1c46c4d5eca3db7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="libutil_2include_2gs_2util_2error_8h.html#a91aea7d2bf231aa2a13f95a6c5305cbc">gs_error_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libutil_2include_2gs_2util_2gosh_2command_8h.html#aca9c75f6046b8656b1c46c4d5eca3db7">gs_command_wait_key</a> (<a class="el" href="libutil_2include_2gs_2util_2gosh_2command_8h.html#a70d1e0456fe5ae6bd7f12d277f88f14f">gs_command_context_t</a> *ctx, int *ch, int timeout_ms)</td></tr>
<tr class="memdesc:aca9c75f6046b8656b1c46c4d5eca3db7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wait for key input.  <a href="#aca9c75f6046b8656b1c46c4d5eca3db7">More...</a><br /></td></tr>
<tr class="separator:aca9c75f6046b8656b1c46c4d5eca3db7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94929a1c6c173b52ca98782f141802a8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="libutil_2include_2gs_2util_2error_8h.html#a91aea7d2bf231aa2a13f95a6c5305cbc">gs_error_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libutil_2include_2gs_2util_2gosh_2command_8h.html#a94929a1c6c173b52ca98782f141802a8">gs_command_register</a> (const <a class="el" href="libutil_2include_2gs_2util_2gosh_2command_8h.html#ad83427335650a49c9f1908e7fc16ac85">gs_command_t</a> *cmds, size_t cmd_count)</td></tr>
<tr class="memdesc:a94929a1c6c173b52ca98782f141802a8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register commands.  <a href="#a94929a1c6c173b52ca98782f141802a8">More...</a><br /></td></tr>
<tr class="separator:a94929a1c6c173b52ca98782f141802a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04323e539aa1193ed1ec4272f9f59213"><td class="memItemLeft" align="right" valign="top"><a class="el" href="libutil_2include_2gs_2util_2error_8h.html#a91aea7d2bf231aa2a13f95a6c5305cbc">gs_error_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libutil_2include_2gs_2util_2gosh_2command_8h.html#a04323e539aa1193ed1ec4272f9f59213">gs_command_init</a> (size_t min_stack_size)</td></tr>
<tr class="memdesc:a04323e539aa1193ed1ec4272f9f59213"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize command system and register default commands.  <a href="#a04323e539aa1193ed1ec4272f9f59213">More...</a><br /></td></tr>
<tr class="separator:a04323e539aa1193ed1ec4272f9f59213"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75e4472d65b8e2bb999edca2b0b7c3de"><td class="memItemLeft" align="right" valign="top"><a class="el" href="libutil_2include_2gs_2util_2error_8h.html#a91aea7d2bf231aa2a13f95a6c5305cbc">gs_error_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libutil_2include_2gs_2util_2gosh_2command_8h.html#a75e4472d65b8e2bb999edca2b0b7c3de">gs_command_init_no_commands</a> (size_t min_stack_size)</td></tr>
<tr class="memdesc:a75e4472d65b8e2bb999edca2b0b7c3de"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize command system (without any default commands).  <a href="#a75e4472d65b8e2bb999edca2b0b7c3de">More...</a><br /></td></tr>
<tr class="separator:a75e4472d65b8e2bb999edca2b0b7c3de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74a0d702b7b6ba0c37ac7f1f50cfce24"><td class="memItemLeft" align="right" valign="top"><a class="el" href="libutil_2include_2gs_2util_2error_8h.html#a91aea7d2bf231aa2a13f95a6c5305cbc">gs_error_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libutil_2include_2gs_2util_2gosh_2command_8h.html#a74a0d702b7b6ba0c37ac7f1f50cfce24">gs_command_register_logger</a> (<a class="el" href="libutil_2include_2gs_2util_2gosh_2command_8h.html#ab3d7d9d1bd26c655cd26216c3626cb95">gs_command_log_t</a> log_cb, void *log_ctx)</td></tr>
<tr class="memdesc:a74a0d702b7b6ba0c37ac7f1f50cfce24"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a call-back used for logging of command execution.  <a href="#a74a0d702b7b6ba0c37ac7f1f50cfce24">More...</a><br /></td></tr>
<tr class="separator:a74a0d702b7b6ba0c37ac7f1f50cfce24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33ca22877a7603f3558878b3363063f2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="libutil_2include_2gs_2util_2error_8h.html#a91aea7d2bf231aa2a13f95a6c5305cbc">gs_error_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libutil_2include_2gs_2util_2gosh_2command_8h.html#a33ca22877a7603f3558878b3363063f2">gs_command_logger_default</a> (const char *cmd_line, <a class="el" href="libutil_2include_2gs_2util_2error_8h.html#a91aea7d2bf231aa2a13f95a6c5305cbc">gs_error_t</a> ret, <a class="el" href="libutil_2include_2gs_2util_2error_8h.html#a91aea7d2bf231aa2a13f95a6c5305cbc">gs_error_t</a> cmd_ret, <a class="el" href="structgs__timestamp__t.html">gs_timestamp_t</a> t_start, <a class="el" href="structgs__timestamp__t.html">gs_timestamp_t</a> t_end, void *log_ctx)</td></tr>
<tr class="memdesc:a33ca22877a7603f3558878b3363063f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default implementation of the command logger, that can be used if no other custom command logger is provided by the system.  <a href="#a33ca22877a7603f3558878b3363063f2">More...</a><br /></td></tr>
<tr class="separator:a33ca22877a7603f3558878b3363063f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a208bb793b4708b8315840c188122ad9c"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libutil_2include_2gs_2util_2gosh_2command_8h.html#a208bb793b4708b8315840c188122ad9c">gs_command_get_stack_size</a> (void)</td></tr>
<tr class="memdesc:a208bb793b4708b8315840c188122ad9c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return minimum stack size.  <a href="#a208bb793b4708b8315840c188122ad9c">More...</a><br /></td></tr>
<tr class="separator:a208bb793b4708b8315840c188122ad9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d26c8947645a9b462c22247d017cfb1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="libutil_2include_2gs_2util_2error_8h.html#a91aea7d2bf231aa2a13f95a6c5305cbc">gs_error_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libutil_2include_2gs_2util_2gosh_2command_8h.html#a0d26c8947645a9b462c22247d017cfb1">gs_command_register_default_commands</a> (void)</td></tr>
<tr class="memdesc:a0d26c8947645a9b462c22247d017cfb1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register set of default commands.  <a href="#a0d26c8947645a9b462c22247d017cfb1">More...</a><br /></td></tr>
<tr class="separator:a0d26c8947645a9b462c22247d017cfb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6835bc3651aed84b68b5b566ae12c84a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libutil_2include_2gs_2util_2gosh_2command_8h.html#a6835bc3651aed84b68b5b566ae12c84a">gs_command_build_argv</a> (char *line, int *argc, char **argv, int max_argc)</td></tr>
<tr class="memdesc:a6835bc3651aed84b68b5b566ae12c84a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Split line into argc/argv.  <a href="#a6835bc3651aed84b68b5b566ae12c84a">More...</a><br /></td></tr>
<tr class="separator:a6835bc3651aed84b68b5b566ae12c84a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf913db1e48f59e689953938fa957cee"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libutil_2include_2gs_2util_2gosh_2command_8h.html#acf913db1e48f59e689953938fa957cee">gs_command_getopt</a> (<a class="el" href="libutil_2include_2gs_2util_2gosh_2command_8h.html#a70d1e0456fe5ae6bd7f12d277f88f14f">gs_command_context_t</a> *ctx, const char *opts)</td></tr>
<tr class="memdesc:acf913db1e48f59e689953938fa957cee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse options.  <a href="#acf913db1e48f59e689953938fa957cee">More...</a><br /></td></tr>
<tr class="separator:acf913db1e48f59e689953938fa957cee"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a3c59e804b38c2a1fad3d215eeb716854"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GS_COMMAND_REGISTER</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">__cmd</td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="libutil_2include_2gs_2util_2gosh_2command_8h.html#a94929a1c6c173b52ca98782f141802a8">gs_command_register</a>(__cmd, <a class="el" href="libutil_2include_2gs_2util_2types_8h.html#a5f7faa614a491f67774e1fdf837e0221">GS_ARRAY_SIZE</a>(__cmd))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Macro for registering commands. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="libutil_2include_2gs_2util_2gosh_2command_8h.html#a94929a1c6c173b52ca98782f141802a8" title="Register commands. ">gs_command_register()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a3a48ac19f6ca5e16964ba449bedc47a3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GS_COMMAND_ROOT</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>'root' command attribute. </p>
<p>On embedded (none Linux) systems, it is prefered to store as much as possible in <em>program</em> memory, in order to save RAM. This is accomplished by tagging all <em>root</em> commands with this attribute, which instructs the linker to put all commands in a named section. This section is then through the linker-script, placed in <em>program</em> memory. The command framework can read commands directly from this section, and therefore doesn't need an RAM to maintain the list.</p>
<p>The <a class="el" href="libutil_2include_2gs_2util_2gosh_2command_8h.html#a94929a1c6c173b52ca98782f141802a8" title="Register commands. ">gs_command_register()</a> must still be called for all <em>root</em> commands, which ensures that the linker doesn't throw away the command objects, due to missing code reference.</p>
<p>On a Linux system, the commands are not group in a section. Instead <a class="el" href="libutil_2include_2gs_2util_2gosh_2command_8h.html#a94929a1c6c173b52ca98782f141802a8" title="Register commands. ">gs_command_register()</a> dynamicly builds a list with the commands.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="libutil_2include_2gs_2util_2gosh_2command_8h.html#a94929a1c6c173b52ca98782f141802a8" title="Register commands. ">gs_command_register()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ad23b12a7e245d0ddb03b8c4d16b34252"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GS_COMMAND_SUB&#160;&#160;&#160;<a class="el" href="pgm_8h.html#a04b85f9b1e94aed93489d364d00c6644">GS_PGM_OBJECT</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sub command attribute,. </p>
<p>Only necesasry on AVR8, due to its memory model. </p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="addbb99a3e0147bc3aac77dcf143970ff"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="libutil_2include_2gs_2util_2error_8h.html#a91aea7d2bf231aa2a13f95a6c5305cbc">gs_error_t</a>(* gs_command_completer_t) (<a class="el" href="libutil_2include_2gs_2util_2gosh_2command_8h.html#a70d1e0456fe5ae6bd7f12d277f88f14f">gs_command_context_t</a> *ctx, int arg_to_complete)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Completer call-back (tab complete). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>command context. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">arg_to_complete</td><td>argument to complete </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="libutil_2include_2gs_2util_2error_8h.html#a91aea7d2bf231aa2a13f95a6c5305cbca21d0994cd19d1d3512772ef4772f5383" title="Success - ok (POSIX). ">GS_OK</a> Found at least 1 match. The <em>completer</em> is expected to have completed more of the command line. If the framework detects multiple matches, the framework will proceed as if <a class="el" href="libutil_2include_2gs_2util_2error_8h.html#a91aea7d2bf231aa2a13f95a6c5305cbca156d00b995b23d91135bb20037a6df2f" title="Ambiguous error (GOMspace). ">GS_ERROR_AMBIGUOUS</a> was returned. The framework doesn't expect anything to be printed to <em>out</em>, but will update/refresh the console line. </dd>
<dd>
<a class="el" href="libutil_2include_2gs_2util_2error_8h.html#a91aea7d2bf231aa2a13f95a6c5305cbca156d00b995b23d91135bb20037a6df2f" title="Ambiguous error (GOMspace). ">GS_ERROR_AMBIGUOUS</a> Ambiguous - multiple matches or force the framework to show help. The <em>completer</em> may have extended/completed more of the command line. The framework expects the <em>completer</em> to have printed to <em>out</em>, and will show help/usage for the command on a new line. </dd>
<dd>
<a class="el" href="libutil_2include_2gs_2util_2error_8h.html#a91aea7d2bf231aa2a13f95a6c5305cbcac2986e3a28f26ccd54065257c531fda7" title="Not found (GOMspace). ">GS_ERROR_NOT_FOUND</a> (or others) No matches found or no more arguments to complete. The framewrok doesn't expect anything to be printed to <em>out</em>, and will not update the console. </dd></dl>

</div>
</div>
<a class="anchor" id="a70d1e0456fe5ae6bd7f12d277f88f14f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structcommand__context.html">command_context</a> <a class="el" href="libutil_2include_2gs_2util_2gosh_2command_8h.html#a70d1e0456fe5ae6bd7f12d277f88f14f">gs_command_context_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Commands context reference. </p>
<dl class="section note"><dt>Note</dt><dd>Use gs_command_context_t instead of struct <a class="el" href="structcommand__context.html" title="Command context for executing a command. ">command_context</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ab3d7d9d1bd26c655cd26216c3626cb95"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="libutil_2include_2gs_2util_2error_8h.html#a91aea7d2bf231aa2a13f95a6c5305cbc">gs_error_t</a>(* gs_command_log_t) (const char *cmd_line, <a class="el" href="libutil_2include_2gs_2util_2error_8h.html#a91aea7d2bf231aa2a13f95a6c5305cbc">gs_error_t</a> ret, <a class="el" href="libutil_2include_2gs_2util_2error_8h.html#a91aea7d2bf231aa2a13f95a6c5305cbc">gs_error_t</a> cmd_ret, <a class="el" href="structgs__timestamp__t.html">gs_timestamp_t</a> start, <a class="el" href="structgs__timestamp__t.html">gs_timestamp_t</a> end, void *ctx)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Command logging call-back. </p>
<p>logs information on the command called. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">cmd_line</td><td>command line string </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ret</td><td>return code from command execution framework </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cmd_ret</td><td>return code from the executed command </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">start</td><td>time_stamp when command execution started. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">end</td><td>time_stamp when command execution completed. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>context pointer for the logger. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>GS_OK on success </dd>
<dd>
other error code on failure </dd></dl>

</div>
</div>
<a class="anchor" id="ad83427335650a49c9f1908e7fc16ac85"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structcommand.html">command</a> <a class="el" href="libutil_2include_2gs_2util_2gosh_2command_8h.html#ad83427335650a49c9f1908e7fc16ac85">gs_command_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Command reference. </p>
<dl class="section note"><dt>Note</dt><dd>Use gs_command_t instead of 'struct command'. </dd></dl>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a8e5c6004cf495f4a04ef4b0337420c74"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* gs_command_args </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="libutil_2include_2gs_2util_2gosh_2command_8h.html#a70d1e0456fe5ae6bd7f12d277f88f14f">gs_command_context_t</a> *&#160;</td>
          <td class="paramname"><em>ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the arguments as a string, where arguments are separated by spaces. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctx</td><td>command context. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to concatenated arguments </dd></dl>

</div>
</div>
<a class="anchor" id="a6835bc3651aed84b68b5b566ae12c84a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool gs_command_build_argv </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>argv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>max_argc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Split line into argc/argv. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">line</td><td>line to split - the line will be chop up into argv. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">argc</td><td>argc count. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">argv</td><td>argv array. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">max_argc</td><td>max argv elements. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><em>true</em> if successfull, else <em>false</em>. </dd></dl>

</div>
</div>
<a class="anchor" id="a616b319dc6de3f2e078a2a0a229ebefb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int gs_command_completer_add_token </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="libutil_2include_2gs_2util_2gosh_2command_8h.html#a70d1e0456fe5ae6bd7f12d277f88f14f">gs_command_context_t</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>token</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>exact</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add token - helper to 'tab complete' argument(s). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>command context. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">token</td><td>possible completion - the API will find the common part. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">exact</td><td><em>true</em> if <em>token</em> is an exact match - all other added tokens will be ignored. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>number of tokens added. </dd></dl>

</div>
</div>
<a class="anchor" id="a0ce86d164e06ac45630b72bba839ade0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="libutil_2include_2gs_2util_2error_8h.html#a91aea7d2bf231aa2a13f95a6c5305cbc">gs_error_t</a> gs_command_execute </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>command</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="libutil_2include_2gs_2util_2error_8h.html#a91aea7d2bf231aa2a13f95a6c5305cbc">gs_error_t</a> *&#160;</td>
          <td class="paramname"><em>command_result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="libutil_2include_2gs_2util_2gosh_2command_8h.html#adf30a2587b9766919068958dd7f6dd87">gs_command_io_functions_t</a> *&#160;</td>
          <td class="paramname"><em>iof</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>iof_ctx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Execute command. </p>
<p>Looks up a command and executes it. If the command is executed (this function returns GS_OK), the command's return result is stored in <em>command_result</em>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">command</td><td>Command to execute, including arguments separated by spaces. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">command_result</td><td>Result returned by <em>command</em> (if executed). Use <em>NULL</em> to ignore result. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">out</td><td>output (FILE) stream </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">iof</td><td>Pointer to function interface of IO operations </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">iof_ctx</td><td>Pointer to context used by the IO function interface </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="libutil_2include_2gs_2util_2error_8h.html#a91aea7d2bf231aa2a13f95a6c5305cbcac2986e3a28f26ccd54065257c531fda7" title="Not found (GOMspace). ">GS_ERROR_NOT_FOUND</a> if command wasn't found. </dd>
<dd>
<a class="el" href="libutil_2include_2gs_2util_2error_8h.html#a91aea7d2bf231aa2a13f95a6c5305cbcaf55fefc5e454d7d5fe964c8090e27ba8" title="Invalid argument (POSIX.1: EINVAL). ">GS_ERROR_ARG</a> if number of argumenets exceeds <em>mandatory</em> + <em>optional</em> count. </dd>
<dd>
GS_OK on success </dd>
<dd>
other error code on failure </dd></dl>

</div>
</div>
<a class="anchor" id="aa75b330f0722b139092cbccf46362b11"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="libutil_2include_2gs_2util_2error_8h.html#a91aea7d2bf231aa2a13f95a6c5305cbc">gs_error_t</a> gs_command_execute_stdio </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>command</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="libutil_2include_2gs_2util_2error_8h.html#a91aea7d2bf231aa2a13f95a6c5305cbc">gs_error_t</a> *&#160;</td>
          <td class="paramname"><em>command_result</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Execute command. </p>
<p>Looks up a command and executes it. If the command is executed (this function returns GS_OK), the command's return result is stored in <em>command_result</em>. The results are printed on stdout and input captured on stdin.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">command</td><td>Command to execute, including arguments separated by spaces. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">command_result</td><td>Result from command. Use <em>NULL</em> to ignore result. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="libutil_2include_2gs_2util_2error_8h.html#a91aea7d2bf231aa2a13f95a6c5305cbca21d0994cd19d1d3512772ef4772f5383" title="Success - ok (POSIX). ">GS_OK</a> if command was executed - result returned in <em>command_result</em>. Otherwise an error indicating why the command wasn't executed. </dd></dl>

</div>
</div>
<a class="anchor" id="a9828d47e4ac6b66f45c7d5c350eee7df"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="libutil_2include_2gs_2util_2error_8h.html#a91aea7d2bf231aa2a13f95a6c5305cbc">gs_error_t</a> gs_command_flush_output </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="libutil_2include_2gs_2util_2gosh_2command_8h.html#a70d1e0456fe5ae6bd7f12d277f88f14f">gs_command_context_t</a> *&#160;</td>
          <td class="paramname"><em>ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Flush output/Results. </p>
<p>Instruct the command output stream &amp; results to be flushed from it's buffers.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>the command context </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>GS_OK on success </dd>
<dd>
other error code on failure </dd></dl>

</div>
</div>
<a class="anchor" id="a208bb793b4708b8315840c188122ad9c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t gs_command_get_stack_size </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return minimum stack size. </p>
<dl class="section return"><dt>Returns</dt><dd>minimm stack size required for executing commands. The minimum stack size is set by call to <a class="el" href="libutil_2include_2gs_2util_2gosh_2command_8h.html#a04323e539aa1193ed1ec4272f9f59213" title="Initialize command system and register default commands. ">gs_command_init()</a>. </dd></dl>

</div>
</div>
<a class="anchor" id="acf913db1e48f59e689953938fa957cee"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int gs_command_getopt </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="libutil_2include_2gs_2util_2gosh_2command_8h.html#a70d1e0456fe5ae6bd7f12d277f88f14f">gs_command_context_t</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>opts</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse options. </p>
<p>Adapted from AT&amp;T public domain source from: <a href="http://www.informatica.co.cr/unix-source-code/research/1985/1103.html">http://www.informatica.co.cr/unix-source-code/research/1985/1103.html</a></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>command context. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">opts</td><td>options </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>option character </dd></dl>

</div>
</div>
<a class="anchor" id="a04323e539aa1193ed1ec4272f9f59213"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="libutil_2include_2gs_2util_2error_8h.html#a91aea7d2bf231aa2a13f95a6c5305cbc">gs_error_t</a> gs_command_init </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>min_stack_size</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize command system and register default commands. </p>
<p>Registers following commands: <a class="el" href="libutil_2include_2gs_2util_2log_2log_8h.html#a097166d671428b6059efc4441bceeef8" title="Register Log commands. ">gs_log_register_commands()</a> and <a class="el" href="libutil_2include_2gs_2util_2gosh_2command_8h.html#a0d26c8947645a9b462c22247d017cfb1" title="Register set of default commands. ">gs_command_register_default_commands()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">min_stack_size</td><td>Minimum stack size required for executing commands. The stack size will be used by other sub-systems such as gs_console, g-script. Stack size may be ignored on some platforms, e.g. Linux. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>GS_OK on success </dd>
<dd>
other error code on failure </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="libutil_2include_2gs_2util_2gosh_2command_8h.html#a75e4472d65b8e2bb999edca2b0b7c3de" title="Initialize command system (without any default commands). ">gs_command_init_no_commands()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a75e4472d65b8e2bb999edca2b0b7c3de"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="libutil_2include_2gs_2util_2error_8h.html#a91aea7d2bf231aa2a13f95a6c5305cbc">gs_error_t</a> gs_command_init_no_commands </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>min_stack_size</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize command system (without any default commands). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">min_stack_size</td><td>Minimum stack size required for executing commands. The stack size will be used by other sub-systems such as gs_console, g-script. Stack size may be ignored on some platforms, e.g. Linux. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>GS_OK on success </dd>
<dd>
other error code on failure </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="libutil_2include_2gs_2util_2gosh_2command_8h.html#a04323e539aa1193ed1ec4272f9f59213" title="Initialize command system and register default commands. ">gs_command_init()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a33ca22877a7603f3558878b3363063f2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="libutil_2include_2gs_2util_2error_8h.html#a91aea7d2bf231aa2a13f95a6c5305cbc">gs_error_t</a> gs_command_logger_default </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>cmd_line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="libutil_2include_2gs_2util_2error_8h.html#a91aea7d2bf231aa2a13f95a6c5305cbc">gs_error_t</a>&#160;</td>
          <td class="paramname"><em>ret</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="libutil_2include_2gs_2util_2error_8h.html#a91aea7d2bf231aa2a13f95a6c5305cbc">gs_error_t</a>&#160;</td>
          <td class="paramname"><em>cmd_ret</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structgs__timestamp__t.html">gs_timestamp_t</a>&#160;</td>
          <td class="paramname"><em>t_start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structgs__timestamp__t.html">gs_timestamp_t</a>&#160;</td>
          <td class="paramname"><em>t_end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>log_ctx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Default implementation of the command logger, that can be used if no other custom command logger is provided by the system. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">cmd_line</td><td>command line string </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ret</td><td>return code provided by the command execution function. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cmd_ret</td><td>return code provided by the executed command. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">t_start</td><td>time stamp when command execution started. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">t_end</td><td>time stamp when command execution completed. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">log_ctx</td><td>context for the command logger. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>GS_OK on success </dd>
<dd>
other error code on failure </dd></dl>

</div>
</div>
<a class="anchor" id="a94929a1c6c173b52ca98782f141802a8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="libutil_2include_2gs_2util_2error_8h.html#a91aea7d2bf231aa2a13f95a6c5305cbc">gs_error_t</a> gs_command_register </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="libutil_2include_2gs_2util_2gosh_2command_8h.html#ad83427335650a49c9f1908e7fc16ac85">gs_command_t</a> *&#160;</td>
          <td class="paramname"><em>cmds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>cmd_count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register commands. </p>
<p><a class="el" href="libutil_2include_2gs_2util_2gosh_2command_8h.html#a04323e539aa1193ed1ec4272f9f59213" title="Initialize command system and register default commands. ">gs_command_init()</a> must be called prior to registering any commands.</p>
<p>See <a class="el" href="libutil_2include_2gs_2util_2gosh_2command_8h.html#a3a48ac19f6ca5e16964ba449bedc47a3" title="&#39;root&#39; command attribute. ">GS_COMMAND_ROOT</a> for details.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">cmds</td><td>Pointer to command array </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cmd_count</td><td>Number of commands in command array </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>GS_OK on success </dd>
<dd>
other error code on failure </dd></dl>

</div>
</div>
<a class="anchor" id="a0d26c8947645a9b462c22247d017cfb1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="libutil_2include_2gs_2util_2error_8h.html#a91aea7d2bf231aa2a13f95a6c5305cbc">gs_error_t</a> gs_command_register_default_commands </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register set of default commands. </p>
<dl class="section return"><dt>Returns</dt><dd>GS_OK on success </dd>
<dd>
other error code on failure </dd></dl>

</div>
</div>
<a class="anchor" id="a74a0d702b7b6ba0c37ac7f1f50cfce24"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="libutil_2include_2gs_2util_2error_8h.html#a91aea7d2bf231aa2a13f95a6c5305cbc">gs_error_t</a> gs_command_register_logger </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="libutil_2include_2gs_2util_2gosh_2command_8h.html#ab3d7d9d1bd26c655cd26216c3626cb95">gs_command_log_t</a>&#160;</td>
          <td class="paramname"><em>log_cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>log_ctx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register a call-back used for logging of command execution. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">log_cb</td><td>the logging call back. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">log_ctx</td><td>pointer to context data. Set to NULL if not used. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>GS_OK on success </dd>
<dd>
other error code on failure </dd></dl>

</div>
</div>
<a class="anchor" id="aeef56f61b7bdfc2b396c3e07c2fdebcb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="libutil_2include_2gs_2util_2error_8h.html#a91aea7d2bf231aa2a13f95a6c5305cbc">gs_error_t</a> gs_command_run </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>command</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="libutil_2include_2gs_2util_2error_8h.html#a91aea7d2bf231aa2a13f95a6c5305cbc">gs_error_t</a> *&#160;</td>
          <td class="paramname"><em>command_result</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Execute command. </p>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000005">Deprecated:</a></b></dt><dd>Replaced by gs_command_execute &amp; gs_command_execute_stdio</dd></dl>
<p>Looks up a command and executes it. If the command is executed (this function returns GS_OK), the command's return result is stored in <em>command_result</em>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">command</td><td>Command to execute, including arguments separated by spaces. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">command_result</td><td>Result returned by <em>command</em> (if executed). Use <em>NULL</em> to ignore result. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="libutil_2include_2gs_2util_2error_8h.html#a91aea7d2bf231aa2a13f95a6c5305cbcac2986e3a28f26ccd54065257c531fda7" title="Not found (GOMspace). ">GS_ERROR_NOT_FOUND</a> if command wasn't found. </dd>
<dd>
<a class="el" href="libutil_2include_2gs_2util_2error_8h.html#a91aea7d2bf231aa2a13f95a6c5305cbcaf55fefc5e454d7d5fe964c8090e27ba8" title="Invalid argument (POSIX.1: EINVAL). ">GS_ERROR_ARG</a> if number of argumenets exceeds <em>mandatory</em> + <em>optional</em> count. </dd>
<dd>
GS_OK on success </dd>
<dd>
other error code on failure </dd></dl>

</div>
</div>
<a class="anchor" id="a98a8c9a2dbd48f934e4f610b9eda8875"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="libutil_2include_2gs_2util_2error_8h.html#a91aea7d2bf231aa2a13f95a6c5305cbc">gs_error_t</a> gs_command_set_output </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="libutil_2include_2gs_2util_2gosh_2command_8h.html#a70d1e0456fe5ae6bd7f12d277f88f14f">gs_command_context_t</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>group</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set output. </p>
<p>Sets output from command, using the io function struct in ctx.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>the command context </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">group</td><td>a string specifying the group of the result. Leave blank if not used. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">key</td><td>a string specifying the key/name of the result variable. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">value</td><td>a string representation of the result value. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>GS_OK on success </dd>
<dd>
other error code on failure </dd></dl>

</div>
</div>
<a class="anchor" id="a3d48f13c08348baba544d63639b401bc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="libutil_2include_2gs_2util_2error_8h.html#a91aea7d2bf231aa2a13f95a6c5305cbc">gs_error_t</a> gs_command_set_output_printf </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="libutil_2include_2gs_2util_2gosh_2command_8h.html#a70d1e0456fe5ae6bd7f12d277f88f14f">gs_command_context_t</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>group</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set output. </p>
<p>Sets output from command using printf formatting, using the io function struct in ctx.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>the command context </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">group</td><td>a string specifying the group of the result. Leave blank if not used. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">key</td><td>a string specifying the key/name of the result variable. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">format</td><td>printf syntax for formatting data </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>GS_OK on success </dd>
<dd>
other error code on failure </dd></dl>

</div>
</div>
<a class="anchor" id="aec5506dadcf6ebd763ec17d2d1b6aedf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool gs_command_wait_any_key </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="libutil_2include_2gs_2util_2gosh_2command_8h.html#a70d1e0456fe5ae6bd7f12d277f88f14f">gs_command_context_t</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>timeout_ms</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Wait for any key input. </p>
<p>Instruct the command input stream to wait for any key.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>the command context </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">timeout_ms</td><td>timeout, &lt; 0: block forever, 0: poll, &gt; 0: wait number of milliseconds. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><em>false</em> on timeout, <em>true</em> if key pressed or an error occurred, e.g. no input stream available. </dd></dl>

</div>
</div>
<a class="anchor" id="aca9c75f6046b8656b1c46c4d5eca3db7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="libutil_2include_2gs_2util_2error_8h.html#a91aea7d2bf231aa2a13f95a6c5305cbc">gs_error_t</a> gs_command_wait_key </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="libutil_2include_2gs_2util_2gosh_2command_8h.html#a70d1e0456fe5ae6bd7f12d277f88f14f">gs_command_context_t</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>ch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>timeout_ms</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Wait for key input. </p>
<p>Instruct the io stream to wait for a key, and return the pressed key in ch.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>the command context </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">ch</td><td>the character that was read on the input stream </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">timeout_ms</td><td>timeout, &lt; 0: block forever, 0: poll, &gt; 0: wait number of milliseconds. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="libutil_2include_2gs_2util_2error_8h.html#a91aea7d2bf231aa2a13f95a6c5305cbca21d0994cd19d1d3512772ef4772f5383" title="Success - ok (POSIX). ">GS_OK</a> if key was read </dd>
<dd>
<a class="el" href="libutil_2include_2gs_2util_2error_8h.html#a91aea7d2bf231aa2a13f95a6c5305cbcac629afd6a09a188d073964d5fd2ce08f" title="Handle error (GOMspace). ">GS_ERROR_HANDLE</a> if no input stream is present </dd>
<dd>
<a class="el" href="libutil_2include_2gs_2util_2error_8h.html#a91aea7d2bf231aa2a13f95a6c5305cbcabff017d1f9148344a244716af53f486b" title="Timeout (POSIX.1-2001: ETIMEDOUT). ">GS_ERROR_TIMEOUT</a> on timeout. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.11-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
    <table width="100%" border="0">
      <tr>
	<td>Copyright &copy; 2013-2020 GomSpace A/S. All rights reserved. </td>
	<td><right>Generated by Doxygen 1.8.11</right></td>
      </tr>
    </table>
</small></address>
</body>
</html>
